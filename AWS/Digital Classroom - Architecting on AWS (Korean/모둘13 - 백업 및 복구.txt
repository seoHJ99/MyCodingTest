-------------------------------
재해 복구 계획

테스트, 리소스, 계획

가용성을 이용해서 다운 타임을 낮추고 내결함성을 갖추고 백업, 재해복구
복제와 백업은 다름.

rpo(복구 시점 목표) , RTO(복구 시간 목표)

rpo: 데이터 손실 최소화. 대이터를 자주 백업
rto : 가동 중단 시간 최소화. 어플을 최대한 빨리 정상 작동화 시키는 것

s3 리전간 복제 
ebs : 스냅샷을 이용하여 리전 및 계정간 복제
snow family : 외장하드 처럼 사용
data sync : 온프레미스 데이터와 efs를 동기화

라우트 53을 이용한 네트워크 장애 조치


rds를 이용하여 스냅샷 생성
다중 가용 영역 사용

CloudFront 를 이용한 아키텍처를 템플릿화


--------------------------
AWS Backup

백업 전략을 중앙에서 관리 하는 서비스
중앙에서 시각적으로 관리
백업 일정을 자동화 및 전략 설계
organizations 를 이용해 여러 계정의 백업 가능


------------------------------
복구전략
백업 및 복원
파일럿 라이트
웜 스탠바이
다중 사이트 액티브-액티브

1. 백업 및 복원
    데이터를 백업해두고 문제가 생기면 복원
    높은 rto 가 문제
    온프레미스 서비스에 적합
    시간 단위 rto

2. 파일럿 라이트
    대부분의 시간에 데이터를 복제해둠.
    장애가 발생하면 새로운 어플리케이션이 실행되며 복제 데이터를 사용
    rto 가 높음. 코드형 인프라 권장
    몇분단위 rto

3. 웜스탠바이
    소규모로 실행되는 복구 리소스.
    문제가 생기면 복구 리소스가 메인.
    라우트53의 가중치 기반 라우팅을 이용해 복구 리소스에 조금만 할당
    분단위 rto

4. 다중 사이트 액티브 - 액티브
    비용효율성이 가장 떨어짐
    다른 리전에 실제 서버를 그대로 복사
    장애가 발생하면 
    초단위 rto

rto rpo 그래프
백업 및 복원 < 팡일럿 라이트 < 웜 스탠바이 < 다중 사이트 액티브 - 액티브
