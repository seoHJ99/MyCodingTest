SatefulSet
상태를 저장하고 있는 포드.
상호 교환 불가.
각 포드는 영구 식별자가 존재.
    - 영구 스토리지 사용시
    - 순서 지정되고 점진적인 배포시.
    - 순서가 지정되고 자동화된 롤링 업데이트시

임시 볼륨
포드에 부착되어 생명주기를 같이하는 저장공간.

영구 볼륨
포드와 별도로 프로비저닝된 볼륨을 이용하여 pvc 를 만들고 포드에 바인딩하는 방식. 따라서 삭제시 별도의 회수 절차가 필요하다.
pvc : 스토리지와 연결된 영구 볼륨 클레임.
스토리지 클래스 : 쿠버네티스의 동적으로 디스크를 프로비저닝 하는 방식
AWS EBS나 EFS 같은 스토리지를 Amazon EKS 에서 사용하기 위해서는 CSI 드라이버가 필요.

EBS를 사용하는 쿠버네티스 볼륨
독립적인 스토리지.
SSD : 자주 io 작업이 일어나는 환경에 유리. os 설치 가능.
HDD : 한번 io 가 많이 일어날때 많은 i/o 가 일어나는 환경에 유리. os 설치 불가. 

EFS를 사용한 쿠버네티스 볼륨
여러 가용영역간의 공유 가능.
일대다 스토리지 옵션
Fargate 에서 실행되는 포드에 사용 가능.

Secret
쿠버네티스 내부에서 비밀번호같은 민감한 정보를 저장하는 공간.
podspec 같은 파일에서 환경 변수로 이용 가능.
암호화는 안되고 인코딩만 되어있음.

AWS Secrets Manager and Configuration Provider(ASCP)
Secret Manager 또는 SSM Parameter Store 에서 Secret 를 관리해줌.
Secret Manager 는 자동 키 교체 기능 존재. 유료


-----------------------------------

인스턴스 프로파일
IAM 역할과 같음.
CLI 로 만들면 IAM 역할과 이름이 다르게 설정될수도 있음.

Amazon GuardDuty
EKS 감사 로그 모니터링 도구
    - 지속적으로 로그를 감사 및 모니터링
    - 기계학습 모델을 이용하여 의심스러운 활동 식별

쿠버네티스의 RBAC
RBAC(Role Based Access Control)
역할을 네임스페이스에 바인딩하거나 클러스터에 바인딩하여 사용.
클러스터 전체에 역할을 부여
RBAC 은 네임스페이스 기반으로 포드 그룹에 권한을 주는 것.
aws-config 에서 IAM 역할과 RBAC 이 부여된 클러스터 그룹에 매핑해야지 IAM 권한을 이용하여 쿠버네티스 클러스터를 인증할수 있음.

사용자가 클러스터를 생성할때 쿠버네티스는 자동으로 cluster-admin RBAC 역할을 생성.
해당 역할은 아무 제한 없이 클러스터를 관리 가능.

Service Account : 포드의 권한 정의. 평소에는 토큰이 Secret 에 저장되어 있다가, 포드에 부여되면 해당 토큰을 포드에 할당.
    - 포드가 직접적으로 쿠버네티스 api 에 접근하려고 할때, 권한이 부여된 Service Account 필요
    - Service Acount 가 권한을 가지기 위해선 RBAC 역할과 Service Account 를 바인딩해야함.
    - 클러스터의 OpenID 공급자가 Service Account 를 보장해주고, 덕분에 IAM 역할을 부여받을수 있다. 3방향 신뢰
    -